---
description: 
globs: 
alwaysApply: true
---
# Правила разработки Mat-Focus

РАБОТУ С КУКАМИ ПРОВОДИТЬ ЧЕРЕЗ cookiesService в файле cookies.js

### Хранение токенов

- ✅ Токены авторизации должны храниться ТОЛЬКО в httpOnly cookies
- ❌ Запрещено использование localStorage для хранения токенов
- ❌ Запрещено использование sessionStorage для хранения токенов

### Причины:

1. Защита от XSS атак
2. Автоматическое удаление токена при закрытии браузера
3. Возможность установки флагов безопасности (httpOnly, secure, sameSite)
4. Централизованное управление временем жизни токена

## Работа с авторизацией

1. Все запросы к API должны автоматически включать токен из cookies
2. Проверка авторизации должна происходить на уровне middleware
3. При логауте необходимо удалять куки на клиенте и инвалидировать сессию на сервере
